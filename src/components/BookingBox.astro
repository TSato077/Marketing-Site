---
// Replace with your Google Form URL (regular viewform URL, not embedded)
// To get the URL: Open your Google Form → Click "Send" → Copy the link, or use the form's direct URL
const googleFormUrl = 'https://docs.google.com/forms/d/e/1FAIpQLSdUtF7DdRpdIN7xA8o7hkab2gK6wNN34R8DaXsrVkW3ZTrd8A/viewform';
---

<section id="booking" class="bg-white">
	<div class="mx-auto max-w-4xl px-6 lg:px-10">
		<div class="rounded-3xl border border-brand-gold/30 bg-brand-gray/60 p-5 shadow-subtle">
			{googleFormUrl && !googleFormUrl.includes('YOUR_FORM_ID') ? (
				<div class="flex flex-col items-center justify-center space-y-3 text-center">
					<div class="space-y-2">
						<h3 class="text-xl font-semibold text-brand-charcoal">Ready to Reserve Your Session?</h3>
						<p class="text-sm text-brand-charcoal/80">
							Complete the booking form to secure your family's spot. Payment is required to reserve your session.
						</p>
					</div>
					<button
						type="button"
						data-open-form
						data-form-url={googleFormUrl}
						class="inline-flex w-full items-center justify-center rounded-md bg-brand-indigo px-6 py-3 text-sm font-semibold text-white shadow-subtle transition duration-200 ease-soft hover:-translate-y-0.5 hover:bg-brand-holiday hover:shadow-lg"
					>
						Open Booking Form
					</button>
					<p class="text-xs text-brand-charcoal/60">
						The form will open in a new window
					</p>
				</div>
			) : (
				<div class="space-y-4 rounded-2xl border border-dashed border-brand-gold/40 bg-white/70 p-8 text-center text-brand-charcoal/70">
					<p class="text-sm font-medium uppercase tracking-[0.3em]">Google Form Setup Required</p>
					<p class="mt-3 text-base">
						To add your Google Form, update the <code>googleFormUrl</code> variable in{' '}
						<code>src/components/BookingBox.astro</code>.
					</p>
					<p class="mt-2 text-sm">
						Get your form URL: Open your Google Form → Click "Send" → Copy the link
					</p>
				</div>
			)}
		</div>
	</div>
</section>

<script is:inline>
	(function() {
		const openFormButton = document.querySelector('[data-open-form]');
		if (openFormButton) {
			const formUrl = openFormButton.getAttribute('data-form-url');
			if (formUrl) {
				openFormButton.addEventListener('click', () => {
					// Open form in popup window
					const width = 800;
					const height = 1000;
					const left = (window.innerWidth - width) / 2;
					const top = (window.innerHeight - height) / 2;
					
					window.open(
						formUrl,
						'SatoFoto Booking Form',
						`width=${width},height=${height},left=${left},top=${top},resizable=yes,scrollbars=yes`
					);
				});
			}
		}
	})();
</script>

